<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Bienvenido</title>
</head>
<body>

    <div class="container-fluid">
        <nav class="navbar navbar-expand-sm justify-content-between">
            <!-- Brand/logo -->
            <a class="navbar-brand d-flex align-items-center" th:href="@{/admin/home}">
                <img src="../Front/assets/logo.png" title="Logotipo del aplicativo" alt="logo" style="width:80px;">
                <h1 class="pt-3">Treatment Tracer</h1>
            </a>

            <!-- Links -->
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/admin/diseases}">Enfermedades</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/admin/patients}">Pacientes</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/admin/carers}">Cuidadores</a>
                </li>
                <li class="nav-item">
                   <form th:action="@{/logout}" method="post">
						<input type="submit" class="nav-link btn btn-info logout"
							value="Cerrar Sesion" />
						</form>
                </li>
            </ul>
        </nav>
       <div class="body">
         <div aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a th:href="@{/admin/home}">Inicio</a></li>
                    <li class="breadcrumb-item active" title="Usted está aquí" aria-current="page">Pacientes</li>
                </ol>
            </div>
    </div>

    <div class="row">
        <div class="col-12 d-flex justify-content-around">
            <div class="card mt-3" style="width: 18rem;">
                <img class="card-img-top" src="..." alt="Card image cap">
                <div class="card-body">
                  <h5 class="card-title">Listar pacientes</h5>
                  <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                  <a href="#" class="btn btn-link d-flex justify-content-center">Listar</a>
                </div>
              </div>
              <div class="card mt-3" style="width: 18rem;">
                <img class="card-img-top" src="..." alt="Card image cap">
                <div class="card-body">
                  <h5 class="card-title">Activar/Desactivar pacientes</h5>
                  <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                  <div class="row">
                    <a href="#" class="btn btn-link col-6">Activar</a>
                    <a href="#" class="btn btn-link col-6">Desactivar</a> 
                  </div>
                  
                </div>
              </div>
              
        </div>
    </div>


    <div class="row">
        <div class="col-10 offset-1">
            <table class="table">
                <thead class="bg-info text-center">
                    <tr>
                        <th colspan="6">LISTADO DE PACIENTES</th>
                    </tr>
                    <tr>
                        <th scope="col">Nombre</th>
                        <th scope="col">Apellidos</th>
                        <th scope="col">Email</th>
                        <th scope="col">Fecha de nacimiento</th>
                        <th scope="col">Estado</th>
                        <th scope="col">Borrar</th>
                    </tr>
                </thead>
                <tbody>
                <div th:each="patient:${allPatients}">
                    <tr>
                        <td th:text="${patient.name}"></td>
                        <td th:text="${patient.surname}"></td>
                        <td th:text="${patient.email}"></td>
                        <td th:text="${patient.dateOfBirth}"></td>
                        <td th:text="${patient.state.name}"></td>
                        <td class="text-center">
                        	<form th:action="@{/admin/deletePatient}" method=POST>
										<input name="id" th:value="${patient.id}" type="hidden"> 
										<input type="submit" class="btn delete" value="Borrar">
							</form>
                        
                        </td>
                    </tr>
                 </div>
                </tbody>
            </table>
        </div>
    </div>

    <div class="row">
        <div class="col-10 offset-1">
            <table class="table">
                <thead class="bg-info text-center">
                    <tr>
                        <th colspan="5">LISTADO DE PACIENTES ACTIVOS</th>
                    </tr>
                    <tr>
                        <th scope="col">Nombre</th>
                        <th scope="col">Apellidos</th>
                        <th scope="col">Email</th>
                        <th scope="col">Fecha de nacimiento</th>
                        <th scope="col">Desactivar</th>
                    </tr>
                </thead>
                <tbody>
               	<div th:each="patient:${activePatient}">
                    <tr>
                        <td th:text="${patient.name}"></td>
                        <td th:text="${patient.surname}"></td>
                        <td th:text="${patient.email}"></td>
                        <td th:text="${patient.dateOfBirth}"></td>
                       <td class="text-center">
                        	<form th:action="@{/admin/inactivePatient}" method=POST>
										<input name="id" th:value="${patient.id}" type="hidden"> 
										<input type="submit" class="btn active" value="Desactivar">
							</form>
                        
                        </td>
                    </tr>
                 </div>
                </tbody>
            </table>
        </div>
    </div>

    <div class="row">
        <div class="col-10 offset-1">
            <table class="table">
                <thead class="bg-info text-center">
                    <tr>
                        <th colspan="5">LISTADO DE PACIENTES INACTIVOS</th>
                    </tr>
                    <tr>
                        <th scope="col">Nombre</th>
                        <th scope="col">Apellidos</th>
                        <th scope="col">Email</th>
                        <th scope="col">Fecha de nacimiento</th>
                        <th scope="col">Activar</th>
                    </tr>
                </thead>
                <tbody>
                    <div th:each="patient:${inactivePatient}">
                    <tr>
                        <td th:text="${patient.name}"></td>
                        <td th:text="${patient.surname}"></td>
                        <td th:text="${patient.email}"></td>
                        <td th:text="${patient.dateOfBirth}"></td>
                        <td class="text-center">
                        	<form th:action="@{/admin/activePatient}" method=POST>
										<input name="id" th:value="${patient.id}" type="hidden"> 
										<input type="submit" class="btn active" value="Activar">
							</form>
                        
                        </td>
                    </tr>
                 </div>
                </tbody>
            </table>
        </div>
    </div>



    <script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
		integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
		crossorigin="anonymous"></script>
	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
		integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
		crossorigin="anonymous"></script>
</body>
</html>